{"ast":null,"code":"import _regeneratorRuntime from\"/Users/asif/Documents/Uday/website/fit4yoursport/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/asif/Documents/Uday/website/fit4yoursport/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/asif/Documents/Uday/website/fit4yoursport/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useRef,useEffect}from'react';import axios from'axios';import'../../Utils/style.css';import\"../../Utils/css/header.css\";import\"../../Utils/css/bootstrap.min.css\";import\"../../Utils/css/bootstrap-datepicker.css\";import profile from\"../../images/profile.png\";import pencil from\"../../images/pencil.png\";import DatePicker from\"react-datepicker\";import{Network}from'../../Services/Api';import{ToastContainer,toast}from'react-toastify';import\"react-datepicker/dist/react-datepicker.css\";import HeaderComponents from\"../../Components/header\";import FooterComponents from\"../../Components/footer\";var Gender=[{\"name\":\"Male\",\"value\":\"M\"},{\"name\":\"Female\",\"value\":\"F\"},{\"name\":\"Others\",\"value\":\"O\"}];var country=[{\"name\":\"Unitied Kingdom\",\"value\":\"Unitied Kingdom\"},{\"name\":\"South Africa\",\"value\":\"South Africa\"},{\"name\":\"Australia\",\"value\":\"Australia\"}];function EditProfileComponents(props){var _useState=useState(new Date()),_useState2=_slicedToArray(_useState,2),startDate=_useState2[0],setStartDate=_useState2[1];var _useState3=useState(\"Male\"),_useState4=_slicedToArray(_useState3,2),genderValue=_useState4[0],setGender=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),firstName=_useState6[0],setfirstName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),lastName=_useState8[0],setlastName=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),about=_useState10[0],setAbout=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),profileImage=_useState12[0],setProfiles=_useState12[1];var _useState13=useState(\"South Africa\"),_useState14=_slicedToArray(_useState13,2),countryValue=_useState14[0],setCountry=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),user=_useState16[0],setUserData=_useState16[1];var _useState17=useState({}),_useState18=_slicedToArray(_useState17,2),errors=_useState18[0],setError=_useState18[1];useEffect(function(){var userLocal=JSON.parse(localStorage.getItem('user'));console.log(\"********************userData after login--->\",userLocal);setUserData(userLocal);setTimeout(function(){getProfile();},500);},[]);var inputEl=useRef(null);function handleClick(){// console.log(\"98888888\", inputEl)\ninputEl.current.click();}var handleGender=function handleGender(e){setGender(e.target.value);};var handleCountry=function handleCountry(e){setCountry(e.target.value);};var ExampleCustomInput=function ExampleCustomInput(_ref){var value=_ref.value,onClick=_ref.onClick;return/*#__PURE__*/_jsx(\"div\",{onClick:onClick,style:{width:350},children:/*#__PURE__*/_jsx(\"span\",{children:value})});};var sendDate=function sendDate(val){var today=new Date(val);var dd=String(today.getDate()).padStart(2,'0');var mm=String(today.getMonth()+1).padStart(2,'0');//January is 0!\nvar yyyy=today.getFullYear();today=dd+'/'+mm+'/'+yyyy;return today;};var getProfile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var userLocal,obj;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:userLocal=JSON.parse(localStorage.getItem('user'));obj={authToken:userLocal?userLocal.token:\"\"};Network('user/profile','get',obj).then(function(res){console.log(\"res success verify otp--->\",res);if(res.status==true){setfirstName(res.result.user.firstName);setlastName(res.result.user.lastName);// setStartDate(res.result.dob)\nsetCountry(res.result.country);setGender(res.result.gender==\"M\"?\"Male\":\"Female\");setProfiles(res.result.profile_url);}else{toast.error(res.message);}}).catch(function(error){console.log(\"error===>\",error);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function getProfile(_x){return _ref2.apply(this,arguments);};}();var handleSubmit=function handleSubmit(event){console.log(\"RES: \",\"Bearer \".concat(user.token));var formData=new FormData();formData.append(\"gender\",genderValue==\"Male\"?\"M\":\"F\");formData.append(\"country\",countryValue);formData.append(\"dob\",sendDate(startDate));formData.append(\"about\",about);formData.append(\"profile\",profileImage);formData.append(\"firstName\",firstName);formData.append(\"lastName\",lastName);var end_point=\"http://nodeserver.mydevfactory.com:1443/user/profile\";var headers={\"Content-Type\":\"multipart/form-data\",Authorization:\"Bearer \".concat(user.token)};return axios({method:\"PUT\",url:end_point,data:formData,headers:headers}).then(function(response){//handle success\nconsole.log(\"RES: \",response,\"Bearer \".concat(user.token));if(response.status==true){toast.success(response.message);}else{toast.error(response.message);}}).catch(function(err){//handle error\n// toast.error(response.message)\nconsole.log(\"ERR: \",err.response.data);});};var doValidation=function doValidation(event){event.preventDefault();if(firstName==\"\"){toast.warning(\"Please enter your first name.\");return;}if(lastName==\"\"){toast.warning(\"Please enter your last name.\");return;}if(about==\"\"){toast.warning('Please enter about us');return;}handleSubmit();};/******************For files***********************************/var handleChange=function handleChange(event){console.log(\"URL.createObjectURL(event.target.files[0])---->\",URL.createObjectURL(event.target.files[0]));setProfiles(URL.createObjectURL(event.target.files[0]));// uploadImage(URL.createObjectURL(event.target.files[0]))\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(HeaderComponents,{flag:true,as:props,headerText:\"PROFILE\"}),/*#__PURE__*/_jsx(\"section\",{class:\"home-profile\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-6 col-md-10 col-10 mx-auto profile-sec\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:doValidation,children:[/*#__PURE__*/_jsx(\"figure\",{class:\"profile\",children:profileImage?/*#__PURE__*/_jsx(\"img\",{src:profile,class:\"img-fluid\",alt:\"\"}):/*#__PURE__*/_jsx(\"img\",{src:\"http://nodeserver.mydevfactory.com:1443/\".concat(profileImage),class:\"img-fluid\",alt:\"\",style:{width:100,height:100,borderRadius:50}})}),/*#__PURE__*/_jsx(\"img\",{src:pencil,class:\"img-fluid pencil\",alt:\"\",onClick:function onClick(){return handleClick();}}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",style:{display:\"none\"},className:\"form-control\",name:\"file\",onChange:handleChange,ref:inputEl// value=\"\"\n}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"First Name\",onChange:function onChange(event){return setfirstName(event.target.value);},value:firstName,name:\"firstName\"}),/*#__PURE__*/_jsx(\"div\",{class:\"input-group-append\",children:/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-user-o\",\"aria-hidden\":\"true\"})})})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\",fontSize:12},children:errors.firstName}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Last Name\",onChange:function onChange(event){return setlastName(event.target.value);},value:lastName,name:\"lastName\"}),/*#__PURE__*/_jsx(\"div\",{class:\"input-group-append\",children:/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-user-o\",\"aria-hidden\":\"true\"})})})]}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\",fontSize:12},children:errors.lastName}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"dates input-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-control\",children:/*#__PURE__*/_jsx(DatePicker,{selected:startDate,onChange:function onChange(date){return setStartDate(date);},customInput:/*#__PURE__*/_jsx(ExampleCustomInput,{})})}),/*#__PURE__*/_jsx(\"div\",{class:\"input-group-append\",children:/*#__PURE__*/_jsx(\"span\",{class:\"input-group-text\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-calendar-o fa-1x\",\"aria-hidden\":\"true\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group input-group\",children:/*#__PURE__*/_jsx(\"select\",{onChange:function onChange(e){return handleGender(e);},name:\"genderName\",children:Gender.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item.value,name:\"genderName\",children:item.name});})})}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group input-group\",children:/*#__PURE__*/_jsx(\"select\",{onChange:function onChange(e){return handleCountry(e);},name:\"countryName\",children:country.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item.value,name:\"countryName\",children:item.name});})})}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group\",children:/*#__PURE__*/_jsx(\"textarea\",{class:\"form-control\",id:\"exampleFormControlTextarea1\",rows:\"2\",placeholder:\"Type your comment\",onChange:function onChange(event){return setAbout(event.target.value);},value:about,name:\"about\"})}),/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\",fontSize:12},children:errors.about}),/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{class:\"save-btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"})})})})]})})})})}),/*#__PURE__*/_jsx(FooterComponents,{})]});}export default EditProfileComponents;","map":{"version":3,"sources":["/Users/asif/Documents/Uday/website/fit4yoursport/src/App/Screens/EditProfile/index.js"],"names":["React","useState","useRef","useEffect","axios","profile","pencil","DatePicker","Network","ToastContainer","toast","HeaderComponents","FooterComponents","Gender","country","EditProfileComponents","props","Date","startDate","setStartDate","genderValue","setGender","firstName","setfirstName","lastName","setlastName","about","setAbout","profileImage","setProfiles","countryValue","setCountry","user","setUserData","errors","setError","userLocal","JSON","parse","localStorage","getItem","console","log","setTimeout","getProfile","inputEl","handleClick","current","click","handleGender","e","target","value","handleCountry","ExampleCustomInput","onClick","width","sendDate","val","today","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","event","obj","authToken","token","then","res","status","result","gender","profile_url","error","message","catch","handleSubmit","formData","FormData","append","end_point","headers","Authorization","method","url","data","response","success","err","doValidation","preventDefault","warning","handleChange","URL","createObjectURL","files","height","borderRadius","display","color","fontSize","date","map","item","name"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios'\nimport '../../Utils/style.css';\nimport \"../../Utils/css/header.css\"\nimport \"../../Utils/css/bootstrap.min.css\"\nimport \"../../Utils/css/bootstrap-datepicker.css\"\nimport profile from \"../../images/profile.png\"\nimport pencil from \"../../images/pencil.png\"\nimport DatePicker from \"react-datepicker\";\nimport { Network } from '../../Services/Api';\nimport { ToastContainer, toast } from 'react-toastify';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport HeaderComponents from \"../../Components/header\"\nimport FooterComponents from \"../../Components/footer\"\n\nconst Gender = [\n  {\n    \"name\": \"Male\",\n    \"value\": \"M\"\n  },\n  {\n    \"name\": \"Female\",\n    \"value\": \"F\"\n  },\n  {\n    \"name\": \"Others\",\n    \"value\": \"O\"\n  },\n]\n\nconst country = [\n  {\n    \"name\": \"Unitied Kingdom\",\n    \"value\": \"Unitied Kingdom\"\n  },\n  {\n    \"name\": \"South Africa\",\n    \"value\": \"South Africa\"\n  },\n  {\n    \"name\": \"Australia\",\n    \"value\": \"Australia\"\n  },\n]\n\nfunction EditProfileComponents(props) {\n  const [startDate, setStartDate] = useState(new Date());\n  const [genderValue, setGender] = useState(\"Male\")\n  const [firstName, setfirstName] = useState(\"\")\n  const [lastName, setlastName] = useState(\"\")\n  const [about, setAbout] = useState(\"\")\n  const [profileImage, setProfiles] = useState(\"\")\n  const [countryValue, setCountry] = useState(\"South Africa\")\n  const [user, setUserData] = useState(\"\")\n  const [errors, setError] = useState({})\n\n  useEffect(() => {\n\n    const userLocal = JSON.parse(localStorage.getItem('user'));\n    console.log(\"********************userData after login--->\", userLocal)\n    setUserData(userLocal)\n    setTimeout(() => {\n      getProfile()\n    }, 500);\n\n  }, []);\n\n  const inputEl = useRef(null);\n  function handleClick() {\n    // console.log(\"98888888\", inputEl)\n    inputEl.current.click();\n  }\n\n\n  const handleGender = (e) => {\n    setGender(e.target.value)\n  }\n  const handleCountry = (e) => {\n    setCountry(e.target.value)\n  }\n  const ExampleCustomInput = ({ value, onClick }) => (\n    <div onClick={onClick} style={{ width: 350 }}>\n      <span>{value}</span>\n    </div>\n  );\n\n  const sendDate = (val) => {\n    var today = new Date(val);\n    var dd = String(today.getDate()).padStart(2, '0');\n    var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n    var yyyy = today.getFullYear();\n    today = dd + '/' + mm + '/' + yyyy;\n    return today\n  }\n\n  const getProfile = async (event) => {\n    const userLocal = JSON.parse(localStorage.getItem('user'));\n    var obj = {\n      authToken: userLocal ? userLocal.token : \"\",\n    };\n    Network('user/profile', 'get', obj)\n      .then((res) => {\n        console.log(\"res success verify otp--->\", res);\n        if (res.status == true) {\n          setfirstName(res.result.user.firstName)\n          setlastName(res.result.user.lastName)\n          // setStartDate(res.result.dob)\n          setCountry(res.result.country)\n          setGender(res.result.gender == \"M\" ? \"Male\" : \"Female\")\n          setProfiles(res.result.profile_url)\n        } else {\n          toast.error(res.message)\n        }\n      })\n      .catch((error) => {\n        console.log(\"error===>\", error)\n      });\n\n  };\n\n\n  const handleSubmit = (event) => {\n    console.log(\"RES: \", `Bearer ${user.token}`);\n    let formData = new FormData();\n    formData.append(\"gender\", genderValue == \"Male\" ? \"M\" : \"F\");\n    formData.append(\"country\", countryValue);\n    formData.append(\"dob\", sendDate(startDate));\n    formData.append(\"about\", about);\n    formData.append(\"profile\", profileImage);\n    formData.append(\"firstName\", firstName);\n    formData.append(\"lastName\", lastName);\n\n    const end_point = \"http://nodeserver.mydevfactory.com:1443/user/profile\";\n    const headers = {\n      \"Content-Type\": \"multipart/form-data\",\n      Authorization: `Bearer ${user.token}`\n    };\n\n    return axios({\n      method: \"PUT\",\n      url: end_point,\n      data: formData,\n      headers,\n    })\n      .then(function (response) {\n        //handle success\n        console.log(\"RES: \", response, `Bearer ${user.token}`);\n        if (response.status == true) {\n          toast.success(response.message)\n        } else {\n          toast.error(response.message)\n        }\n      })\n      .catch(function (err) {\n        //handle error\n        // toast.error(response.message)\n        console.log(\"ERR: \", err.response.data);\n      });\n  };\n\n  const doValidation = (event) => {\n    event.preventDefault();\n    if (firstName == \"\") {\n      toast.warning(\"Please enter your first name.\")\n      return\n    }\n    if (lastName == \"\") {\n      toast.warning(\"Please enter your last name.\")\n      return\n    }\n    if (about == \"\") {\n      toast.warning('Please enter about us')\n      return\n    }\n    handleSubmit()\n  }\n\n\n  /******************For files***********************************/\n  const handleChange = event => {\n    console.log(\"URL.createObjectURL(event.target.files[0])---->\", URL.createObjectURL(event.target.files[0]));\n    setProfiles(URL.createObjectURL(event.target.files[0]))\n    // uploadImage(URL.createObjectURL(event.target.files[0]))\n\n  };\n\n  return (\n    <div>\n      <HeaderComponents flag={true} as={props} headerText=\"PROFILE\" />\n      <section class=\"home-profile\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-lg-6 col-md-10 col-10 mx-auto profile-sec\">\n              <form onSubmit={doValidation}>\n                <figure class=\"profile\">\n                  {\n                    profileImage ?\n                    <img src={profile} class=\"img-fluid\" alt=\"\" />\n                      :\n                      <img src={`${\"http://nodeserver.mydevfactory.com:1443/\"}${profileImage}`} class=\"img-fluid\" alt=\"\" style={{ width: 100, height: 100, borderRadius: 50 }} />\n                  }\n\n                </figure>\n                <img src={pencil} class=\"img-fluid pencil\" alt=\"\" onClick={() => handleClick()} />\n                <input\n                  type=\"file\"\n                  style={{ display: \"none\" }}\n                  className=\"form-control\"\n                  name=\"file\"\n                  onChange={handleChange}\n                  ref={inputEl}\n                // value=\"\"\n                />\n                <div class=\"form-group input-group\">\n                  <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"First Name\" onChange={(event) => setfirstName(event.target.value)} value={firstName} name=\"firstName\" />\n                  <div class=\"input-group-append\">\n                    <span class=\"input-group-text\"><i class=\"fa fa-user-o\" aria-hidden=\"true\"></i></span>\n                  </div>\n                </div>\n                <span style={{ color: \"red\", fontSize: 12 }}>\n                  {errors.firstName}\n                </span>\n                <div class=\"form-group input-group\">\n                  <input type=\"text\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Last Name\" onChange={(event) => setlastName(event.target.value)} value={lastName} name=\"lastName\" />\n                  <div class=\"input-group-append\">\n                    <span class=\"input-group-text\"><i class=\"fa fa-user-o\" aria-hidden=\"true\"></i></span>\n                  </div>\n                </div>\n                <span style={{ color: \"red\", fontSize: 12 }}>\n                  {errors.lastName}\n                </span>\n                <div class=\"form-group\">\n                  <div class=\"dates input-group\">\n                    {/* <input type=\"text\" class=\"form-control\" id=\"usr1\" name=\"event_date\" placeholder=\"D.O.B\" autocomplete=\"off\" /> */}\n                    <div className=\"form-control\">\n                      <DatePicker\n                        selected={startDate}\n                        onChange={date => setStartDate(date)}\n                        customInput={<ExampleCustomInput />}\n                      />\n                    </div>\n\n                    <div class=\"input-group-append\">\n                      <span class=\"input-group-text\"><i class=\"fa fa-calendar-o fa-1x\" aria-hidden=\"true\"></i></span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"form-group input-group\">\n                  <select onChange={(e) => handleGender(e)} name=\"genderName\">\n                    {\n                      Gender.map((item) => {\n                        return (\n                          <option value={item.value} name=\"genderName\">{item.name}</option>\n                        )\n                      })\n                    }\n                  </select>\n                </div>\n                <div class=\"form-group input-group\">\n                  <select onChange={(e) => handleCountry(e)} name=\"countryName\">\n                    {\n                      country.map((item) => {\n                        return (\n                          <option value={item.value} name=\"countryName\">{item.name}</option>\n                        )\n                      })\n                    }\n                  </select>\n                </div>\n\n                <div class=\"form-group\">\n                  <textarea class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"2\" placeholder=\"Type your comment\" onChange={(event) => setAbout(event.target.value)} value={about} name=\"about\"></textarea>\n                </div>\n                <span style={{ color: \"red\", fontSize: 12 }}>\n                  {errors.about}\n                </span>\n                <div class=\"row\">\n                  <div class=\"col-md-12\">\n                    <div class=\"save-btn\">\n                      <button type=\"submit\">Save</button>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </section>\n\n\n      <FooterComponents />\n    </div >\n  );\n}\n\nexport default EditProfileComponents;\n"]},"metadata":{},"sourceType":"module"}